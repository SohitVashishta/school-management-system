import{r as f,j as e}from"./index-Bvi5AaG_.js";import{u as C,w as v}from"./xlsx-DjuO7_Ju.js";import{C as c,a as d}from"./CRow-vSXVB6Z4.js";import{C as F,a as b}from"./CCardBody-CncvmFhX.js";import{C as g}from"./CCardHeader-DzukG7zH.js";import{C as _}from"./CForm-RL5qu1Ll.js";import{C as m}from"./CFormLabel-B4DC023o.js";import{C as h}from"./CFormInput-DLm92qrA.js";import{a as u}from"./index.esm-PqmBDI7d.js";import{C as T,a as k,b as y,c as n,d as R,e as l}from"./CTable-VK8GYg8V.js";import"./CFormControlWrapper-DCkBt9XH.js";import"./CFormControlValidation-DStCodTq.js";const O=()=>{const[r,x]=f.useState([]),[a,j]=f.useState({studentName:"",feesAmount:"",feesDate:"",status:""}),[o,p]=f.useState(-1),i=t=>{const{name:s,value:D}=t.target;j({...a,[s]:D})},N=t=>{if(t.preventDefault(),o>=0){const s=[...r];s[o]=a,x(s),p(-1)}else x([...r,a]);j({studentName:"",feesAmount:"",feesDate:"",status:""})},A=t=>{j(r[t]),p(t)},w=t=>{const s=r.filter((D,S)=>S!==t);x(s)},E=()=>{const t=C.json_to_sheet(r),s=C.book_new();C.book_append_sheet(s,t,"Fees Data"),v(s,"fees_data.xlsx")};return e.jsxs("div",{children:[e.jsx("h1",{children:"Fees Management"}),e.jsx(c,{className:"justify-content-center py-4",children:e.jsx(d,{md:12,children:e.jsxs(F,{children:[e.jsx(g,{children:e.jsx("h5",{children:o>=0?"Edit Fees Record":"Add Fees Record"})}),e.jsx(b,{children:e.jsxs(_,{onSubmit:N,children:[e.jsxs(c,{children:[e.jsxs(d,{md:6,children:[e.jsx(m,{htmlFor:"studentName",children:"Student Name"}),e.jsx(h,{type:"text",id:"studentName",name:"studentName",placeholder:"Enter student's name",value:a.studentName,onChange:i,required:!0})]}),e.jsxs(d,{md:6,children:[e.jsx(m,{htmlFor:"feeAmount",children:"Fees Amount"}),e.jsx(h,{type:"number",id:"feeAmount",name:"feeAmount",placeholder:"Enter fees amount",value:a.feeAmount,onChange:i,required:!0})]})]}),e.jsxs(c,{className:"mt-3",children:[e.jsxs(d,{md:6,children:[e.jsx(m,{htmlFor:"feeDate",children:"Fees Date"}),e.jsx(h,{type:"date",id:"feesDate",name:"feesDate",value:a.feeDate,onChange:i,required:!0})]}),e.jsxs(d,{md:6,children:[e.jsx(m,{htmlFor:"status",children:"Payment Status"}),e.jsx(h,{type:"text",id:"status",name:"status",placeholder:"e.g., Paid, Pending",value:a.status,onChange:i,required:!0})]})]}),e.jsx(u,{type:"submit",color:"primary",className:"mt-4",children:o>=0?"Update":"Add"})]})})]})})}),e.jsx(c,{className:"justify-content-center py-4",children:e.jsx(d,{md:12,children:e.jsxs(F,{children:[e.jsxs(g,{children:[e.jsx("h5",{children:"Fees List"}),e.jsx(u,{color:"success",onClick:E,children:"Download Excel"})]}),e.jsx(b,{children:e.jsxs(T,{striped:!0,hover:!0,children:[e.jsx(k,{children:e.jsxs(y,{children:[e.jsx(n,{children:"#"}),e.jsx(n,{children:"Student Name"}),e.jsx(n,{children:"Fees Amount"}),e.jsx(n,{children:"Fees Date"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Actions"})]})}),e.jsx(R,{children:r.map((t,s)=>e.jsxs(y,{children:[e.jsx(n,{children:s+1}),e.jsx(l,{children:fees.studentName}),e.jsx(l,{children:fees.feeAmount}),e.jsx(l,{children:fees.feeDate}),e.jsx(l,{children:fees.status}),e.jsxs(l,{children:[e.jsx(u,{color:"warning",size:"sm",onClick:()=>A(s),children:"Edit"})," ",e.jsx(u,{color:"danger",size:"sm",onClick:()=>w(s),children:"Delete"})]})]},s))})]})})]})})})]})};export{O as default};
